# Chapter 7. ì˜¨ìŠµë„ ì„¼ì„œ ì´í•´ì™€ ì—°ê²°

> **PART 3**: ì˜¨ìŠµë„ ì„¼ì„œ & ì¡°ë„ ì„¼ì„œ ì—°ê²°í•˜ê¸°

---

## ğŸ“š ì´ ì±•í„°ì—ì„œ ë°°ìš¸ ë‚´ìš©

- [ ] ì˜¨ìŠµë„ ì„¼ì„œ(DHT11)ë¥¼ ì—°ê²°í•  ìˆ˜ ìˆë‹¤
- [ ] ì˜¨ë„ì™€ ìŠµë„ë¥¼ ì¸¡ì •í•  ìˆ˜ ìˆë‹¤
- [ ] ì¸¡ì •ê°’ì„ í™”ë©´ì— ì¶œë ¥í•  ìˆ˜ ìˆë‹¤

**ì˜ˆìƒ ì†Œìš” ì‹œê°„**: 40ë¶„

---

## ğŸ¯ í•™ìŠµ ëª©í‘œ

### í•µì‹¬ ê°œë…

- **ì˜¨ìŠµë„ ì„¼ì„œ**: ì˜¨ë„ì™€ ìŠµë„ë¥¼ ë™ì‹œì— ì¸¡ì •í•˜ëŠ” ì„¼ì„œ
- **DHT11**: ê°€ì¥ ë§ì´ ì‚¬ìš©ë˜ëŠ” ì˜¨ìŠµë„ ì„¼ì„œ
- **ë””ì§€í„¸ ì„¼ì„œ**: ë°ì´í„°ë¥¼ ë””ì§€í„¸ë¡œ ì „ì†¡

---

## ğŸ“– ì˜¨ìŠµë„ ì„¼ì„œë€?

### DHT11 vs DHT22

**DHT11** (ìš°ë¦¬ê°€ ì‚¬ìš©):

- ì˜¨ë„: 0~50Â°C (Â±2Â°C ì˜¤ì°¨)
- ìŠµë„: 20~90% (Â±5% ì˜¤ì°¨)
- ì €ë ´í•¨
- ì´ˆë³´ìì—ê²Œ ì í•©

**DHT22** (ê³ ê¸‰):

- ì˜¨ë„: -40~80Â°C (Â±0.5Â°C)
- ìŠµë„: 0~100% (Â±2%)
- ë” ì •í™•í•˜ì§€ë§Œ ë¹„ìŒˆ

> ğŸ’¡ **íŒ**: ì´ ì±…ì—ì„œëŠ” DHT11ì„ ì‚¬ìš©í•˜ì§€ë§Œ DHT22ë„ ê°™ì€ ì½”ë“œë¡œ ë™ì‘í•©ë‹ˆë‹¤!

### DHT11 í•€ êµ¬ì„±

```
DHT11 ì„¼ì„œ (3í•€)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DHT11  â”‚
â”‚         â”‚
â”‚ 1  2  3 â”‚
â””â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”˜
  â”‚  â”‚  â”‚
VCC DATA GND
```

- **VCC**: ì „ì› (3.3V)
- **DATA**: ë°ì´í„° ì‹ í˜¸
- **GND**: ì ‘ì§€

---

## ğŸ”§ ì‹¤ìŠµ ì¤€ë¹„

### í•„ìš”í•œ ê²ƒ

- [x] í—¥ì‚¬ë³´ë“œ Ã— 1
- [x] DHT11 ì„¼ì„œ ëª¨ë“ˆ Ã— 1 (ì €í•­ ë‚´ì¥)
- [x] 3í•€ ì¼€ì´ë¸” Ã— 1
- [x] USB ì¼€ì´ë¸” Ã— 1

> **ğŸ’¡ TIP**: DHT11 ì„¼ì„œ ëª¨ë“ˆì€ í•„ìš”í•œ ì €í•­ì´ ë‚´ì¥ë˜ì–´ ìˆê³ , 3í•€ ì¼€ì´ë¸”ë¡œ í—¥ì‚¬ë³´ë“œì— ë°”ë¡œ ì—°ê²°í•  ìˆ˜ ìˆì–´ ë§¤ìš° ê°„í¸í•©ë‹ˆë‹¤!

### ì„¼ì„œ ì—°ê²°í•˜ê¸°

```
DHT11          í—¥ì‚¬ë³´ë“œ
--------------------------
VCC (1ë²ˆ)  â†’  3.3V
DATA (2ë²ˆ) â†’  PIN1 (GPIO 32)
GND (3ë²ˆ)  â†’  GND
```

**ì—°ê²° ìˆœì„œ**:

1. í—¥ì‚¬ë³´ë“œì˜ ì „ì›ì„ ë•ë‹ˆë‹¤ (USB ì œê±°)
2. ì í¼ ì¼€ì´ë¸”ë¡œ ì—°ê²°í•©ë‹ˆë‹¤
3. ì—°ê²°ì„ ë‹¤ì‹œ í™•ì¸í•©ë‹ˆë‹¤
4. USBë¥¼ ì—°ê²°í•©ë‹ˆë‹¤

âš ï¸ **ì£¼ì˜**: VCCì™€ GNDë¥¼ ë°˜ëŒ€ë¡œ ì—°ê²°í•˜ë©´ ì„¼ì„œê°€ ê³ ì¥ë‚  ìˆ˜ ìˆìŠµë‹ˆë‹¤!

---

## ğŸ’» ì‹¤ìŠµ 1: DHT11 ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜

### dht ëª¨ë“ˆ í™•ì¸

MicroPythonì—ëŠ” `dht` ëª¨ë“ˆì´ ê¸°ë³¸ ë‚´ì¥ë˜ì–´ ìˆìŠµë‹ˆë‹¤!

**í…ŒìŠ¤íŠ¸ ì½”ë“œ**:

```python
# íŒŒì¼ëª…: ch07_test_import.py
# DHT ëª¨ë“ˆ í™•ì¸

try:
    import dht
    print("âœ“ dht ëª¨ë“ˆì´ ìˆìŠµë‹ˆë‹¤!")
except ImportError:
    print("âœ— dht ëª¨ë“ˆì´ ì—†ìŠµë‹ˆë‹¤")
```

ì‹¤í–‰í•˜ë©´ "dht ëª¨ë“ˆì´ ìˆìŠµë‹ˆë‹¤!"ê°€ ë‚˜ì™€ì•¼ í•©ë‹ˆë‹¤.

---

## ğŸ’» ì‹¤ìŠµ 2: ì²« ë²ˆì§¸ ì˜¨ìŠµë„ ì¸¡ì •

### ì˜¨ë„ì™€ ìŠµë„ ì½ê¸°

**ì½”ë“œ**:

```python
# íŒŒì¼ëª…: ch07_dht_basic.py
# ì˜¨ìŠµë„ ì„¼ì„œ ê¸°ë³¸

from machine import Pin
import dht
import time

# DHT11 ì„¼ì„œ ì„¤ì • (GPIO 32ë²ˆ)
sensor = dht.DHT11(Pin(32))

print("ì˜¨ìŠµë„ ì„¼ì„œ í…ŒìŠ¤íŠ¸")
print("-" * 30)

# í•œ ë²ˆ ì¸¡ì •
sensor.measure()  # ì¸¡ì • ì‹œì‘
temp = sensor.temperature()  # ì˜¨ë„ (Â°C)
humid = sensor.humidity()    # ìŠµë„ (%)

print(f"ì˜¨ë„: {temp}Â°C")
print(f"ìŠµë„: {humid}%")
```

**ì½”ë“œ ì„¤ëª…**:

- `dht.DHT11(Pin(32))`: DHT11 ì„¼ì„œë¥¼ GPIO 32ë²ˆìœ¼ë¡œ ì„¤ì •
- `sensor.measure()`: ì¸¡ì • ëª…ë ¹ (ê¼­ í•„ìš”!)
- `sensor.temperature()`: ì˜¨ë„ ì½ê¸°
- `sensor.humidity()`: ìŠµë„ ì½ê¸°

### ì‹¤í–‰ ê²°ê³¼ ì˜ˆì‹œ

```
ì˜¨ìŠµë„ ì„¼ì„œ í…ŒìŠ¤íŠ¸
------------------------------
ì˜¨ë„: 24Â°C
ìŠµë„: 65%
```

---

## ğŸ’» ì‹¤ìŠµ 3: ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§

### 1ì´ˆë§ˆë‹¤ ì¸¡ì •í•˜ê¸°

**ì½”ë“œ**:

```python
# íŒŒì¼ëª…: ch07_dht_monitor.py
# ì‹¤ì‹œê°„ ì˜¨ìŠµë„ ëª¨ë‹ˆí„°ë§

from machine import Pin
import dht
import time

sensor = dht.DHT11(Pin(32))

print("=" * 40)
print("  ì‹¤ì‹œê°„ ì˜¨ìŠµë„ ëª¨ë‹ˆí„°ë§")
print("=" * 40)
print("Ctrl+Cë¡œ ì¢…ë£Œ")
print()

count = 0

while True:
    try:
        # ì¸¡ì •
        sensor.measure()
        temp = sensor.temperature()
        humid = sensor.humidity()

        # ì¶œë ¥
        count += 1
        print(f"[{count}] ì˜¨ë„: {temp}Â°C | ìŠµë„: {humid}%")

        # 2ì´ˆ ëŒ€ê¸° (DHT11ì€ ìµœì†Œ 2ì´ˆ ê°„ê²© í•„ìš”)
        time.sleep(2)

    except OSError as e:
        print("ì„¼ì„œ ì½ê¸° ì‹¤íŒ¨:", e)
        time.sleep(2)
```

**ì‹¤í–‰ ê²°ê³¼**:

```
========================================
  ì‹¤ì‹œê°„ ì˜¨ìŠµë„ ëª¨ë‹ˆí„°ë§
========================================
Ctrl+Cë¡œ ì¢…ë£Œ

[1] ì˜¨ë„: 24Â°C | ìŠµë„: 65%
[2] ì˜¨ë„: 24Â°C | ìŠµë„: 66%
[3] ì˜¨ë„: 25Â°C | ìŠµë„: 65%
```

> ğŸ’¡ **íŒ**: DHT11ì€ ìµœì†Œ 2ì´ˆ ê°„ê²©ìœ¼ë¡œ ì¸¡ì •í•´ì•¼ í•©ë‹ˆë‹¤!

---

## ğŸ’» ì‹¤ìŠµ 4: LEDë¡œ ì˜¨ë„ í‘œì‹œ

### ì˜¨ë„ì— ë”°ë¼ ìƒ‰ìƒ ë³€ê²½

**ì½”ë“œ**:

```python
# íŒŒì¼ëª…: ch07_temp_led.py
# ì˜¨ë„ì— ë”°ë¼ LED ìƒ‰ìƒ ë³€ê²½

from machine import Pin
import dht
import neopixel
import time

sensor = dht.DHT11(Pin(32))
np = neopixel.NeoPixel(Pin(23), 25)

def fill(color):
    """ì „ì²´ LEDë¥¼ ê°™ì€ ìƒ‰ìœ¼ë¡œ"""
    for i in range(25):
        np[i] = color
    np.write()

print("ì˜¨ë„ í‘œì‹œ LED")
print("ë‚®ìŒ: íŒŒë‘ | ë³´í†µ: ì´ˆë¡ | ë†’ìŒ: ë¹¨ê°•")
print()

while True:
    try:
        sensor.measure()
        temp = sensor.temperature()
        humid = sensor.humidity()

        # ì˜¨ë„ì— ë”°ë¼ ìƒ‰ìƒ ì„ íƒ
        if temp < 20:
            color = (0, 0, 255)  # íŒŒë‘ (ì¶”ì›€)
            status = "ë‚®ìŒ"
        elif temp < 26:
            color = (0, 255, 0)  # ì´ˆë¡ (ì ë‹¹)
            status = "ë³´í†µ"
        else:
            color = (255, 0, 0)  # ë¹¨ê°• (ë”ì›€)
            status = "ë†’ìŒ"

        # LED ì—…ë°ì´íŠ¸
        fill(color)

        print(f"ì˜¨ë„: {temp}Â°C ({status}) | ìŠµë„: {humid}%")

        time.sleep(2)

    except OSError as e:
        print("ì˜¤ë¥˜:", e)
        time.sleep(2)
```

**ë™ì‘**:

- 20Â°C ë¯¸ë§Œ: íŒŒë€ìƒ‰ (ì¶”ì›€)
- 20~25Â°C: ì´ˆë¡ìƒ‰ (ì ë‹¹)
- 26Â°C ì´ìƒ: ë¹¨ê°„ìƒ‰ (ë”ì›€)

---

## âœ… ë™ì‘ í™•ì¸

**ì •ìƒ ë™ì‘í•˜ë©´**:

- âœ… ì˜¨ë„ ê°’ì´ ì¶œë ¥ë¨ (ì˜ˆ: 24Â°C)
- âœ… ìŠµë„ ê°’ì´ ì¶œë ¥ë¨ (ì˜ˆ: 65%)
- âœ… 2ì´ˆë§ˆë‹¤ ì—…ë°ì´íŠ¸ë¨
- âœ… LED ìƒ‰ìƒì´ ì˜¨ë„ì— ë”°ë¼ ë³€í•¨

---

## ğŸ› ë¬¸ì œ í•´ê²°

### ë¬¸ì œ 1: "OSError" ì—ëŸ¬

**ì¦ìƒ**:

```
OSError: [Errno 116] ETIMEDOUT
```

**ì›ì¸**:

- ì„¼ì„œê°€ ì œëŒ€ë¡œ ì—°ê²°ë˜ì§€ ì•ŠìŒ
- ì¸¡ì • ê°„ê²©ì´ ë„ˆë¬´ ì§§ìŒ

**í•´ê²° ë°©ë²•**:

1. ì—°ê²° í™•ì¸:
   - VCC â†’ 3.3V
   - DATA â†’ GPIO 32
   - GND â†’ GND
2. 2ì´ˆ ì´ìƒ ê°„ê²©ìœ¼ë¡œ ì¸¡ì •
3. ì„¼ì„œë¥¼ ë‹¤ì‹œ ì—°ê²°

### ë¬¸ì œ 2: ê°’ì´ ì´ìƒí•´ìš”

**ì¦ìƒ**:

- ì˜¨ë„ê°€ ë„ˆë¬´ ë†’ê±°ë‚˜ ë‚®ìŒ (ì˜ˆ: 50Â°C)
- ìŠµë„ê°€ 0% ë˜ëŠ” 100%

**ì›ì¸**:

- ì„¼ì„œê°€ ì´ˆê¸°í™” ì¤‘
- ë¶ˆëŸ‰ ì„¼ì„œ

**í•´ê²° ë°©ë²•**:

1. 10ì´ˆ ì •ë„ ê¸°ë‹¤ë¦¬ê¸°
2. í—¥ì‚¬ë³´ë“œ ì¬ì‹œì‘
3. ì„¼ì„œë¥¼ ë‹¤ë¥¸ ê²ƒìœ¼ë¡œ êµì²´

### ë¬¸ì œ 3: ì¸¡ì •ê°’ì´ ì•ˆ ë³€í•´ìš”

**ì¦ìƒ**:

- ê³„ì† ê°™ì€ ê°’ë§Œ ë‚˜ì˜´

**ì›ì¸**:

- DHT11ì€ ì¸¡ì •ì´ ëŠë¦¼ (2ì´ˆ ê°„ê²©)
- ì‹¤ì œë¡œ ì˜¨ìŠµë„ê°€ ì•ˆì •ì 

**í•´ê²° ë°©ë²•**:

- ì†ê°€ë½ìœ¼ë¡œ ì„¼ì„œë¥¼ ì‚´ì§ ê°ì‹¸ë©´ ì˜¨ë„ì™€ ìŠµë„ê°€ ì˜¬ë¼ê°‘ë‹ˆë‹¤
- ì…ê¹€ì„ ë¶ˆë©´ ìŠµë„ê°€ ì˜¬ë¼ê°‘ë‹ˆë‹¤

---

## ğŸ“ í•µì‹¬ ìš”ì•½

### ì˜¤ëŠ˜ ë°°ìš´ ê²ƒ

1. **DHT11 ì„¼ì„œ**: ì˜¨ë„ì™€ ìŠµë„ë¥¼ ë™ì‹œ ì¸¡ì •
2. **ì„¼ì„œ ì—°ê²°**: VCC, DATA, GND 3í•€ ì—°ê²°
3. **ì¸¡ì • ë°©ë²•**: `measure()` â†’ `temperature()` / `humidity()`
4. **ì¸¡ì • ê°„ê²©**: ìµœì†Œ 2ì´ˆ

### í•µì‹¬ ì½”ë“œ

```python
# ì˜¨ìŠµë„ ì„¼ì„œ ì‚¬ìš©
sensor = dht.DHT11(Pin(32))

sensor.measure()  # ì¸¡ì •
temp = sensor.temperature()  # ì˜¨ë„
humid = sensor.humidity()    # ìŠµë„

time.sleep(2)  # 2ì´ˆ ëŒ€ê¸° (ì¤‘ìš”!)
```

---

## ğŸš€ ë„ì „ ê³¼ì œ

### ê³¼ì œ 1: ê²½ê³  ì‹œìŠ¤í…œ â­ï¸

ì˜¨ë„ê°€ 28Â°C ì´ìƒì´ë©´ LEDë¥¼ ë¹¨ê°„ìƒ‰ìœ¼ë¡œ ê¹œë¹¡ì´ê²Œ ë§Œë“¤ì–´ë³´ì„¸ìš”.

**íŒíŠ¸**: `while` ì•ˆì— `if temp > 28` ì¡°ê±´ ì¶”ê°€

### ê³¼ì œ 2: ìµœê³ /ìµœì € ì˜¨ë„ â­ï¸â­ï¸

ì¸¡ì •í•œ ì˜¨ë„ ì¤‘ ìµœê³  ì˜¨ë„ì™€ ìµœì € ì˜¨ë„ë¥¼ ê¸°ë¡í•˜ê³  ì¶œë ¥í•˜ì„¸ìš”.

**íŒíŠ¸**: `max_temp = 0`, `min_temp = 100` ë³€ìˆ˜ ì‚¬ìš©

### ê³¼ì œ 3: ì¾Œì ë„ í‘œì‹œ â­ï¸â­ï¸

ì˜¨ë„ì™€ ìŠµë„ë¥¼ ëª¨ë‘ ê³ ë ¤í•´ì„œ ì¾Œì ë„ë¥¼ í‘œì‹œí•˜ì„¸ìš”:

- ì¾Œì : ì˜¨ë„ 20~25Â°C, ìŠµë„ 40~60%
- ë³´í†µ: ê·¸ ì™¸
- ë¶ˆì¾Œ: ì˜¨ë„ 30Â°C ì´ìƒ ë˜ëŠ” ìŠµë„ 80% ì´ìƒ

---

## ğŸ“ í•™ìŠµ ì²´í¬

- [ ] DHT11 ì„¼ì„œë¥¼ ì—°ê²°í–ˆë‚˜ìš”?
- [ ] ì˜¨ë„ì™€ ìŠµë„ë¥¼ ì¸¡ì •í•  ìˆ˜ ìˆë‚˜ìš”?
- [ ] LEDë¡œ ì˜¨ë„ë¥¼ í‘œì‹œí•  ìˆ˜ ìˆë‚˜ìš”?
- [ ] 2ì´ˆ ê°„ê²©ì˜ ì¤‘ìš”ì„±ì„ ì´í•´í–ˆë‚˜ìš”?

**ì™„ë£Œ ì‹œê°„**: \_\_\_ì‹œ \_\_\_ë¶„

---

**ë‹¤ìŒ ì±•í„°**: Chapter 8 - ì¡°ë„ ì„¼ì„œ ì´í•´ì™€ ì—°ê²°

ë¹›ì˜ ë°ê¸°ë¥¼ ì¸¡ì •í•´ë´…ì‹œë‹¤!

---

> **ğŸ’¡ TIP**: DHT11 ì„¼ì„œëŠ” ì‹¤ë‚´ í™˜ê²½ ëª¨ë‹ˆí„°ë§ì— ì•„ì£¼ ìœ ìš©í•©ë‹ˆë‹¤. ìŠ¤ë§ˆíŠ¸ í™ˆì˜ ì‹œì‘ì…ë‹ˆë‹¤!

---

**ì±•í„° ì‘ì„±**: 2025-11-25  
**ì‘ì„±ì**: AIoT eBook Team
