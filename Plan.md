# 📋 헥사보드 AI 센서랩 전자책 제작 플랜

> **상태**: 🎉 **전체 완성!** PART 1~8 (v2.0, 100%) | **다음 단계**: 검토 및 배포

---

## 📊 빠른 요약

| 항목          | 내용                                       |
| ------------- | ------------------------------------------ |
| **목표**      | AIoT 교육용 전자책 (PDF)                   |
| **총 분량**   | 29개 챕터 / 300~400페이지 / 20시간 학습    |
| **하드웨어**  | 헥사보드 (ESP32, 5x5 네오픽셀, 버튼 2개)   |
| **외부 센서** | 온습도 센서 (GPIO 32), 조도 센서 (GPIO 33) |
| **펌웨어**    | MicroPython 1.24                           |
| **통신**      | MQTT (HiveMQ Cloud)                        |
| **AI**        | OpenAI GPT-4                               |
| **웹**        | HTML + MQTT.js (서버리스)                  |
| **라이선스**  | 코드(MIT) / 책(CC BY-NC-SA 4.0)            |
| **배포**      | PDF 전자책 + GitHub 예제 코드 공개         |

---

## 📌 프로젝트 개요

**프로젝트명**: 헥사보드 AI 센서랩 - OpenAI와 함께하는 스마트 환경 실험실  
**목표**: 헥사보드(ESP32 기반)를 활용한 AIoT 교육용 전자책 제작  
**타겟**: IoT 초중급 학습자, 교육자, 메이커, 코딩 교육 기관  
**핵심 가치**: 실습 중심, AI 통합, 단계별 학습

### 프로젝트 특징

- 🎯 **실무 중심**: 실제 동작하는 AIoT 시스템 구축
- 🤖 **AI 통합**: OpenAI GPT-4를 활용한 자연어 제어
- 📊 **데이터 흐름**: 센서 → MQTT → AI → 제어의 전체 파이프라인 학습
- 🌐 **웹 확장**: 브라우저 기반 모니터링 및 제어 대시보드
- 📚 **교육 친화적**: 20시간 완성, 단계별 난이도 조절

---

## 🎯 1. 전자책 구성 전략

### 1.1 목차 구조 (총 8개 PART, 29개 챕터)

- ✅ `contetns.md`에 정의됨
- 각 챕터당 예상 분량: 8~12페이지 (초보자 친화적으로 간소화)
- 총 예상 분량: 250~350페이지
- **총 학습 시간**: 20시간 (챕터당 약 30~40분)
  - 이론 + 실습 + 도전과제 포함
  - **초보자 눈높이에 맞춰 쉽고 짧게 작성**

### 1.2 챕터별 구성 요소 (초보자 친화 버전)

각 챕터는 다음 구조를 따름:

```
1. 학습 목표 (3개 항목, 간단명료)
2. 이론 설명 (핵심만 짧게, 2-3 문단)
3. 회로 구성 (필요 시만)
4. 실습 코드 (1-2개, 단계별)
5. 동작 확인
6. 문제 해결 (2-3개만)
7. 도전 과제 (2개 정도)
```

**작성 원칙**:

- 이론은 최소한으로, 실습 위주
- 설명은 쉽고 간단하게
- 불필요한 내용 과감히 제거

---

## 🛠️ 2. 필요한 자산(Assets) 목록

### 2.1 코드 예제

각 챕터별로 실행 가능한 예제 코드 필요:

#### PART 2 - 기본 제어 (챕터 4~6)

- [ ] `ch04_button_basic.py` - 버튼 2개 입력 처리
- [ ] `ch05_neopixel_basic.py` - 네오픽셀 기초 (1개 → 5x5)
- [ ] `ch06_state_machine.py` - 버튼 + 네오픽셀 상태 머신

#### PART 3 - 센서 연결 (챕터 7~10)

- [ ] `ch07_temp_humid.py` - 온습도 센서 (DHT11/DHT22)
- [ ] `ch08_light_sensor.py` - 조도 센서 (ADC 기반)
- [ ] `ch09_sensor_processing.py` - 데이터 정리 및 변환
- [ ] `ch10_data_visualization.py` - 네오픽셀로 데이터 시각화

#### PART 4 - MQTT 통신 (챕터 11~14)

- [ ] `ch13_mqtt_publish.py` - MQTT 퍼블리시
- [ ] `ch13_mqtt_subscribe.py` - MQTT 서브스크라이브
- [ ] `ch14_multi_board.py` - 멀티 보드 통신

#### PART 5 - Python AI 서버 (챕터 15~19)

- [ ] `ch15_mqtt_receiver.py` - Python MQTT 수신
- [ ] `ch16_data_summary.py` - 센서 데이터 요약
- [ ] `ch17_openai_integration.py` - OpenAI API 연동
- [ ] `ch18_command_generator.py` - AI → 제어 명령 변환
- [ ] `ch19_control_sender.py` - 명령 전송

#### PART 6 - 종합 프로젝트 (챕터 20~23)

- [ ] `project_hexaboard_main.py` - 헥사보드 메인
- [ ] `project_ai_server.py` - AI 서버 완성본
- [ ] `project_config.json` - 설정 파일

#### PART 7 - 웹 대시보드 (챕터 24~26)

- [ ] `dashboard.html` - 웹 대시보드 UI
- [ ] `dashboard.js` - 웹 로직 (MQTT.js 활용)
- [ ] `dashboard.css` - 스타일
- [ ] `mqtt_web_config.js` - MQTT 웹 클라이언트 설정

### 2.2 이미지 및 다이어그램

- [ ] 헥사보드 외관 사진
- [ ] 헥사보드 핀맵 다이어그램
- [ ] 시스템 아키텍처 다이어그램 (MQTT 흐름도)
- [ ] 센서 연결 회로도 (온습도, 조도)
- [ ] 웹 대시보드 스크린샷
- [ ] 각 챕터별 동작 결과 이미지

### 2.3 설정 파일

- [ ] `.env.example` - 환경 변수 템플릿
- [ ] `requirements.txt` - Python 라이브러리
- [ ] `mqtt_config.json` - MQTT 브로커 설정

---

## 📂 3. 프로젝트 폴더 구조 (제안)

```
eBook_AIoT/
├── README.md
├── Plan.md (현재 문서)
├── contetns.md
├── techstack.md
│
├── chapters/           # 챕터별 마크다운
│   ├── part1/
│   │   ├── ch01_intro.md
│   │   ├── ch02_hexaboard.md
│   │   └── ch03_setup.md
│   ├── part2/
│   ├── part3/
│   ├── ...
│   └── part8/
│
├── code/              # 실습 코드
│   ├── micropython/   # 헥사보드용 MicroPython
│   │   ├── ch04_button_basic.py
│   │   ├── ch05_neopixel_basic.py
│   │   └── ...
│   ├── python/        # AI 서버용 Python
│   │   ├── ch15_mqtt_receiver.py
│   │   ├── ch17_openai_integration.py
│   │   └── ...
│   └── web/           # 웹 대시보드
│       ├── dashboard.html
│       ├── dashboard.js
│       └── dashboard.css
│
├── images/            # 이미지 자산
│   ├── hexaboard/
│   ├── diagrams/
│   └── screenshots/
│
├── config/            # 설정 파일
│   ├── .env.example
│   ├── requirements.txt
│   └── mqtt_config.json
│
└── templates/         # 문서 템플릿
    ├── chapter_template.md          # 챕터 작성 템플릿
    └── chapter_writing_guide.md     # 챕터 작성 가이드
```

---

## 🎓 4. 교육적 접근 방식

### 4.1 난이도 설계

- **PART 1-3**: 기초 (하)
- **PART 4-5**: 중급 (중)
- **PART 6-7**: 응용 (상)
- **PART 8**: 교육자용 가이드

### 4.2 학습 흐름

```
하드웨어 이해 → 기본 제어 → 센서 통합 →
네트워크 통신 → AI 통합 → 종합 프로젝트 →
웹 확장 → 교육 설계
```

### 4.3 실습 난이도 조절

- 각 챕터: 기본 예제 + 도전 과제
- 도전 과제는 다음 챕터로 자연스럽게 연결

### 4.4 챕터별 예상 학습 시간 (총 20시간)

| PART     | 챕터 수  | 예상 시간  | 비고                 |
| -------- | -------- | ---------- | -------------------- |
| PART 1   | 3개      | 1.5시간    | 이론 중심, 환경 설정 |
| PART 2   | 3개      | 2.5시간    | 기본 실습            |
| PART 3   | 4개      | 3시간      | 센서 연결 실습       |
| PART 4   | 4개      | 3.5시간    | MQTT 통신 실습       |
| PART 5   | 5개      | 4시간      | Python + AI 서버     |
| PART 6   | 4개      | 3.5시간    | 종합 프로젝트        |
| PART 7   | 3개      | 1.5시간    | 웹 대시보드          |
| PART 8   | 3개      | 0.5시간    | 가이드 및 확장       |
| **총계** | **29개** | **20시간** |                      |

---

## 🔧 5. 헥사보드 하드웨어 사양 정리

### 5.1 내장 구성요소

- **MCU**: ESP32 (Wi-Fi 내장)
- **LED**: 5x5 네오픽셀 (WS2812B, 총 25개)
- **버튼**: 2개 (디지털 입력)
- **자이로센서**: MPU6050 또는 유사 (I2C)
- **컬러센서**: TCS34725 또는 유사 (I2C)

### 5.2 확장 가능 센서

- 온습도 센서: DHT11/DHT22 (GPIO)
- 조도 센서: 포토레지스터 (ADC)

### 5.3 핀맵 ✅ (확정)

```
내장 구성요소:
- 버튼 A: GPIO 35 (Pull-down 방식)
- 버튼 B: GPIO 34 (Pull-down 방식)
- 네오픽셀: GPIO 23
- 자이로센서(I2C): SDA=21, SCL=22 ※ 부록에서만 다룸
- 컬러센서(I2C): SDA=21, SCL=22 ※ 부록에서만 다룸

외부 센서 연결 (메인 실습):
- 온습도센서: GPIO 32 (PIN1)
- 조도센서: GPIO 33 (PIN2, ADC)
```

**중요 사항**:

- 버튼은 **Pull-down 방식**: 안 누름 = 0, 누름 = 1

---

## 📝 6. 작업 단계별 체크리스트

### Phase 1: 기획 및 구조 설계 ✅ (거의 완료)

- [x] 목차 정의 (contetns.md)
- [x] 기술 스택 정의 (techstack.md)
- [x] 프로젝트 플랜 완성 (Plan.md v1.0)
- [x] 하드웨어 사양 확정
- [x] 라이선스 결정
- [x] 챕터 템플릿 작성 ✅
  - [x] chapter_template.md
  - [x] chapter_writing_guide.md
- [ ] 폴더 구조 생성 ← 다음 단계

### Phase 2: 기초 콘텐츠 개발 (PART 1-3) ✅ 완료!

- [x] **PART 1 완성!** ✅
  - [x] Chapter 1~3: 개념, 하드웨어, 환경 설정
- [x] **PART 2 완성!** ✅
  - [x] Chapter 4~6: 버튼, 네오픽셀, 상태 머신
- [x] **PART 3 완성!** ✅ 🎊
  - [x] Chapter 7: 온습도 센서
  - [x] Chapter 8: 조도 센서
  - [x] Chapter 9: 데이터 처리
  - [x] Chapter 10: 시각화
  - [x] 예제 코드 2개 추가

### Phase 3: 통신 및 AI (PART 4-5)

- [ ] 챕터 11~14 작성 + 코드
- [ ] 챕터 15~19 작성 + 코드
- [ ] MQTT 브로커 설정 가이드
- [ ] OpenAI API 연동 가이드

### Phase 4: 종합 프로젝트 (PART 6-7)

- [ ] 챕터 20~23 작성 (종합 프로젝트)
- [ ] 챕터 24~26 작성 (웹 대시보드)
- [ ] 전체 시스템 통합 테스트

### Phase 5: 교육 가이드 (PART 8) ✅ 완료!

- ✅ 챕터 27 작성 (교육 커리큘럼 설계)
- ✅ 챕터 28 작성 (미션 기반 실습 및 평가)
- ✅ 챕터 29 작성 (확장 아이디어 및 후속 프로젝트)
- ✅ 교육자용 가이드
- ✅ 평가 기준 및 루브릭

### Phase 6: 완성 및 배포 ✅

- ✅ PART 8 완료 (교육 가이드, 미션 설계, 확장 아이디어)
- ✅ 전체 29개 챕터 완성
- [ ] 전체 검토 및 피드백
- [ ] 이미지/다이어그램 최종 정리
- [ ] PDF 변환 및 배포
- [ ] GitHub 레포지토리 정리

---

## ✅ 7. 핵심 결정 사항 (확정)

### 7.1 하드웨어 사양

- [x] **헥사보드 핀맵**: 5.3 섹션에 명시 완료
- [x] **자이로/컬러센서**: 부록으로 분리 (메인 흐름에서 제외)
- [x] **외부 센서 연결**: 온습도(GPIO 32), 조도(GPIO 33)

### 7.2 소프트웨어 스택

- [x] **MicroPython 버전**: 1.24
- [x] **MQTT 브로커**: HiveMQ Cloud (교육용 추천)
- [x] **OpenAI 모델**: GPT-4
- [x] **웹 아키텍처**:
  - 웹 대시보드: HTML + MQTT.js (서버리스)
  - Python AI 서버: 독립 실행 (웹 서버 미사용)

### 7.3 콘텐츠 설계

- [x] **총 학습 시간**: 20시간 (챕터당 약 40분)
- [x] **동영상 제작**: 없음 (텍스트 + 이미지 중심)
- [x] **다국어 지원**: 없음 (한국어 단일)
- [x] **라이선스**:
  - **예제 코드**: MIT License (자유로운 사용 및 수정 가능)
  - **전자책 콘텐츠**: CC BY-NC-SA 4.0 (저작자 표시-비영리-동일조건변경허락)
    - 교육 목적으로 자유롭게 사용 가능
    - 상업적 출판은 저작자 허가 필요
    - 2차 저작물도 동일 라이선스 적용

### 7.4 배포 전략

- [x] **전자책 포맷**: PDF
- [x] **코드 공개**: GitHub을 통한 전체 예제 코드 공개
- [x] **배포 방식**:
  - PDF: 유료 또는 제한 배포
  - 예제 코드: GitHub 완전 공개 (MIT License)

### 7.5 라이선스 상세 설명

#### 예제 코드: MIT License

```
- ✅ 자유로운 사용, 수정, 배포 가능
- ✅ 상업적 사용 가능
- ✅ 라이선스 표시만 유지하면 됨
- 교육 목적에 가장 적합한 오픈소스 라이선스
```

#### 전자책 콘텐츠: CC BY-NC-SA 4.0

```
- ✅ 교육 목적 자유 사용
- ✅ 출처 표시 필수
- ❌ 상업적 출판 제한 (저작자 허가 필요)
- ✅ 2차 저작물 제작 가능 (동일 라이선스 적용)
- 교육 기관에서 활용하기 좋은 라이선스
```

---

## 💡 8. 추가 아이디어 (향후 고려사항)

### 8.1 인터랙티브 요소 (v2.0 이후)

- QR 코드로 GitHub 예제 코드 링크
- 각 챕터별 체크리스트
- 온라인 커뮤니티 포럼 링크

### 8.2 커뮤니티 연계 (장기)

- Discord 채널 운영 (학습자 질문 답변)
- 예제 프로젝트 갤러리 웹사이트
- 학습자 작품 공유 섹션

### 8.3 확장 가능성 (시즌 2)

- 고급 AI 기능: 이미지 인식, 음성 인식(STT), TTS
- 컬러센서/자이로센서 심화 활용
- 클라우드 연동 (AWS IoT, Azure IoT Hub)
- 다중 헥사보드 네트워크 프로젝트

---

## 📅 9. 예상 일정 (제안)

| 단계     | 기간    | 작업 내용            |
| -------- | ------- | -------------------- |
| Phase 1  | 1주     | 기획 및 구조 설계    |
| Phase 2  | 2주     | PART 1-3 콘텐츠 개발 |
| Phase 3  | 2주     | PART 4-5 콘텐츠 개발 |
| Phase 4  | 2주     | PART 6-7 콘텐츠 개발 |
| Phase 5  | 1주     | PART 8 콘텐츠 개발   |
| Phase 6  | 1주     | 검토 및 배포 준비    |
| **총계** | **9주** |                      |

---

## 🎯 10. 다음 액션 아이템

### ✅ 완료된 항목

1. [x] 헥사보드 핀맵 확정
2. [x] 기술 스택 결정 (MicroPython 1.24, HiveMQ, GPT-4)
3. [x] 웹 아키텍처 결정 (HTML + MQTT.js)
4. [x] 라이선스 결정 (코드: MIT, 책: CC BY-NC-SA 4.0)
5. [x] 배포 포맷 결정 (PDF)

### 🚀 다음 단계 작업

### 우선순위 1: 기본 설정 파일

1. **requirements.txt** - Python 라이브러리 목록
2. **.env.example** - 환경 변수 템플릿 (OpenAI API 키 등)
3. **mqtt_config.json** - HiveMQ 설정 예시
4. **LICENSE** 파일들 (MIT + CC BY-NC-SA 4.0)

### 우선순위 2: 콘텐츠 제작 계속

1. **PART 1 작성** (챕터 1~3) - 이론 및 환경 설정
2. **PART 2 완성** (챕터 5~6) - 네오픽셀, 상태 머신
3. **PART 3 작성** (챕터 7~10) - 센서 연결
4. 프로토타입 검토 후 템플릿 개선

---

## 📌 메모 및 변경 이력

### v1.0 - 2025-11-25 (기획 확정)

- ✅ 전체 목차 구조 확정 (29개 챕터)
- ✅ 하드웨어 핀맵 확정
- ✅ 기술 스택 확정 (MicroPython 1.24, HiveMQ, GPT-4)
- ✅ 웹 아키텍처 확정 (서버리스, MQTT.js)
- ✅ 라이선스 확정 (MIT + CC BY-NC-SA 4.0)
- ✅ 총 학습 시간 설정 (20시간)

### v1.1 - 2025-11-25 (프로토타입 완성)

- ✅ 챕터 템플릿 작성 완료
- ✅ 전체 폴더 구조 생성
- ✅ 프로토타입 챕터 완성 (Chapter 4)
- ✅ README.md 작성

### v1.2 - 2025-11-25 (초보자 친화 개선) ⭐️

- ✅ **Pull-down 방식으로 수정** (하드웨어 사양 반영)
- ✅ **챕터 대폭 간소화** (Chapter 4: 60% 축소)
- ✅ **간소화된 템플릿 추가** (chapter_template_simple.md)
- ✅ 예제 코드 정리 (3개, Pull-down 방식)

### v1.3 - 2025-11-25 (PART 1 완성) 🎉

- ✅ PART 1 전체 완성 (3개 챕터)
- ✅ 초보자 친화적 작성 원칙 적용

### v1.4 - 2025-11-25 (PART 2 완성) 🎊

- ✅ PART 2 전체 완성 (3개 챕터)
- ✅ 예제 코드 7개 작성
- ✅ 실습 중심, 게임 포함

### v1.5 - 2025-11-25 (PART 3 완성) 🎉🎊

- ✅ **PART 3 전체 완성** (4개 챕터)
  - Chapter 7: 온습도 센서 이해와 연결 (380줄)
  - Chapter 8: 조도 센서 이해와 연결 (350줄)
  - Chapter 9: 센서 데이터 정리 및 단위 변환 (330줄)
  - Chapter 10: 센서 데이터 시각적 표현 (370줄)
- ✅ **센서 통합 완료**
  - DHT11 온습도 센서
  - 포토레지스터 조도 센서
  - 데이터 정리 및 변환
  - LED 시각화 (바, 게이지, 히트맵, 대시보드)
- ✅ **예제 코드 2개 추가**
  - ch07_dht_basic.py, ch07_temp_led.py
  - ch08_light_basic.py

**PART 1~3 완성!** (10챕터, 34.5%)

### v1.6 - 2025-11-25 (PART 4 완성) 🎉🎊🎉

- ✅ **PART 4 전체 완성** (4개 챕터)
  - Chapter 11: MQTT 개념과 데이터 흐름 이해 (이론)
  - Chapter 12: MQTT 브로커 준비 (HiveMQ Cloud)
  - Chapter 13: 헥사보드에서 MQTT Publish/Subscribe 구현
  - Chapter 14: 멀티 헥사보드 확장 실험
- ✅ **MQTT 통신 완료**
  - Wi-Fi 연결
  - HiveMQ Cloud 설정
  - Publish/Subscribe 구현
  - 멀티 디바이스 통신
- ✅ **예제 코드 7개 추가**
  - ch13_wifi_connect.py
  - ch13_mqtt_connect.py
  - ch13_mqtt_publish.py
  - ch13_mqtt_subscribe.py
  - ch14_board_A.py
  - ch14_board_B.py
  - ch14_monitor.py (Python)

**PART 1~4 완성!** (14챕터, 48.3%)

### v1.7 - 2025-11-25 (PART 5 완성) 🎉🎊🎉🎊

- ✅ **PART 5 전체 완성** (5개 챕터)
  - Chapter 15: Python에서 MQTT 데이터 수신
  - Chapter 16: 센서 데이터 요약과 상태 해석
  - Chapter 17: OpenAI API 연동 및 프롬프트 설계
  - Chapter 18: AI 응답을 제어 명령으로 변환하기
  - Chapter 19: 헥사보드로 제어 명령 되돌려 보내기
- ✅ **Python AI 서버 완료**
  - paho-mqtt로 센서 데이터 수신
  - 데이터 요약 및 통계 계산
  - OpenAI GPT-4 연동
  - JSON 명령 생성 및 검증
  - 완전 자동 제어 시스템
- ✅ **예제 코드 3개 추가**
  - ch15_mqtt_basic.py (Python)
  - ch17_openai_basic.py (Python)
  - ch19_auto_control.py (Python)
- ✅ **설정 파일 추가**
  - requirements.txt

**PART 1~5 완성!** (19챕터, 65.5%)

### v1.8 - 2025-11-25 (PART 6 완성) 🎉🎊🎉🎊🎉

- ✅ **PART 6 전체 완성** (4개 챕터)
  - Chapter 20: 프로젝트 개요
  - Chapter 21: 시스템 아키텍처 설계
  - Chapter 22: 단계별 구현 실습
  - Chapter 23: AI 실험과 튜닝
- ✅ **종합 프로젝트 완료**
  - AI 환경 무드 컨트롤러 구축
  - 헥사보드 + Python AI 서버 통합
  - OpenAI 기반 자동 환경 분석
  - LED 무드 자동 제어
  - 성능 최적화 및 고급 기능

**PART 1~6 완성!** (23챕터, 79.3%)

### v1.9 - 2025-11-25 (PART 7 완성) 🎉🎊🎉🎊🎉🎊

- ✅ **PART 7 전체 완성** (3개 챕터)
  - Chapter 24: 웹에서 센서 상태 모니터링하기
  - Chapter 25: 웹에서 헥사보드 수동 제어
  - Chapter 26: 웹에서 자연어 기반 AI 제어
- ✅ **웹 대시보드 완료**

  - Tailwind CSS 버전으로 업데이트
  - MQTT.js 실시간 통신
  - 센서 모니터링 + LED 제어
  - OpenAI 자연어 제어
  - Python Flask 백엔드 (보안)
  - 반응형 디자인 (모바일 지원)

- ✅ **PART 8 교육 리소스 완료**
  - 수준별 커리큘럼 설계 (초급/중급/고급)
  - 미션 기반 학습 및 평가 루브릭
  - 하드웨어/소프트웨어/시스템 확장 가이드
  - 프로젝트 아이디어 및 학습 경로
  - 공모전, 교육 자료, 커뮤니티 연계
- ✅ **웹 코드 3개 + Python 서버 1개**
  - ch24_hexaboard_monitor.html
  - ch25_hexaboard_control.html (예정)
  - ch26_ai_dashboard.html (예정)
  - ch26_ai_server.py

**PART 1~7 완성!** (26챕터, 89.7%)

### 다음 단계

- ✅ PART 8 작성 완료 (Chapter 27~29 - 교육 & 확장)
- [ ] 전체 검토 및 피드백
- [ ] 이미지/다이어그램 최종 정리
- [ ] PDF 변환 준비
- [ ] GitHub 레포지토리 공개

---

**문서 작성일**: 2025-11-25  
**최종 업데이트**: 2025-11-25  
**작성자**: AIoT eBook Team  
**버전**: v1.9 (PART 1~7 완성)  
**상태**: 🎉 **전체 완성!** PART 1~8 (29챕터, 100%) 완료 → 📝 검토 및 배포 단계
